<!doctype html>
<html>
  <head></head>

  <body>
    <!-- Our UMD wrapper breaks when Promise is not defined, as twilio-common
      attempts to load a polyfill which has conflicting UMD code. -->
    <script src="js/promise.min.js"></script>
    <script data-main="js/main" src="js/require.js"/></script>
    <script>
      require(['../../../../dist/twilio-video'], function(video) {
        try {
          if (video.Client) {
            window.callPhantom({
              status: 'success',
              version: video.version
            });
          } else {
            window.callPhantom({
              status: 'failure',
              reason: 'Client undefined'
            });
          }
        } catch(e) {
          window.callPhantom({
            status: 'failure',
            reason: e.message || e
          });
        }
      });
    </script>
  </body>
</html>
