<!doctype html>
<html>
  <head></head>

  <body>
    <script data-main="js/main" src="js/require.js"/></script>
    <script>
      var publicVars = [
        'connect',
        'createLocalAudioTrack',
        'createLocalTracks',
        'createLocalVideoTrack',
        'isSupported',
        'LocalAudioTrack',
        'LocalDataTrack',
        'LocalVideoTrack'
      ];
      require(['../../../../dist/twilio-video.min'], function(video) {
        try {
          if (publicVars.every(function(publicVar) {
            return publicVar in video;
          })) {
            window.callPhantom({
              status: 'success',
              version: video.version
            });
          } else {
            window.callPhantom({
              status: 'failure',
              reason: 'Video undefined'
            });
          }
        } catch(e) {
          window.callPhantom({
            status: 'failure',
            reason: e.message || e
          });
        }
      });
    </script>
  </body>
</html>
