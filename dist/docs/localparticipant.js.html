<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>JSDoc: Source: localparticipant.js</title>

    <script src="scripts/prettify/prettify.js"> </script>
    <script src="scripts/prettify/lang-css.js"> </script>
    <!--[if lt IE 9]>
      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <link type="text/css" rel="stylesheet" href="styles/prettify-tomorrow.css">
    <link type="text/css" rel="stylesheet" href="styles/jsdoc-default.css">
</head>

<body>

<div id="main">

    <h1 class="page-title">Source: localparticipant.js</h1>

    



    
    <section>
        <article>
            <pre class="prettyprint source linenums"><code>&apos;use strict&apos;;

var inherits = require(&apos;util&apos;).inherits;
var Participant = require(&apos;./participant&apos;);

/**
 * Construct a {@link LocalParticipant}.
 * @class
 * @classdesc A {@link LocalParticipant} represents the local {@link Client} in a
 * {@link Room}.
 * @extends Participant
 * @param {ParticipantSignaling} signaling
 * @param {LocalMedia} localMedia
 * @property {LocalMedia} media
 */
function LocalParticipant(signaling, localMedia) {
  if (!(this instanceof LocalParticipant)) {
    return new LocalParticipant(signaling, localMedia);
  }
  Participant.call(this, signaling, localMedia);
}

inherits(LocalParticipant, Participant);

LocalParticipant.prototype._handleTrackSignalingEvents = function _handleTrackSignalingEvents() {
  if (this.state === &apos;disconnected&apos;) {
    return;
  }

  var media = this.media;
  var signaling = this._signaling;

  function localTrackAdded(localTrack) {
    signaling.addTrack(localTrack._signaling);
  }

  function localTrackRemoved(localTrack) {
    signaling.removeTrack(localTrack._signaling);
  }

  media.on(&apos;trackAdded&apos;, localTrackAdded);
  media.on(&apos;trackRemoved&apos;, localTrackRemoved);

  media.tracks.forEach(localTrackAdded);

  signaling.on(&apos;stateChanged&apos;, function stateChanged(state) {
    if (state === &apos;disconnected&apos;) {
      signaling.removeListener(&apos;stateChanged&apos;, stateChanged);
      media.removeListener(&apos;trackAdded&apos;, localTrackAdded);
      media.removeListener(&apos;trackRemoved&apos;, localTrackRemoved);
    }
  });
};

module.exports = LocalParticipant;
</code></pre>
        </article>
    </section>




</div>

<nav><h2><a href="index.html">Home</a></h2><h3>Classes</h3><ul><li><a href="AudioTrack.html">AudioTrack</a></li><li><a href="Client.html">Client</a></li><li><a href="LocalAudioTrack.html">LocalAudioTrack</a></li><li><a href="LocalMedia.html">LocalMedia</a></li><li><a href="LocalParticipant.html">LocalParticipant</a></li><li><a href="LocalTrack.html">LocalTrack</a></li><li><a href="LocalVideoTrack.html">LocalVideoTrack</a></li><li><a href="Media.html">Media</a></li><li><a href="Participant.html">Participant</a></li><li><a href="Room.html">Room</a></li><li><a href="Track.html">Track</a></li><li><a href="VideoTrack.html">VideoTrack</a></li></ul></nav>

<br class="clear">

<footer>
    Documentation generated by <a href="https://github.com/jsdoc3/jsdoc">JSDoc 3.4.0-dev</a> on Tue Aug 23 2016 16:34:30 GMT-0700 (PDT)
</footer>

<script> prettyPrint(); </script>
<script src="scripts/linenumber.js"> </script>
<script>(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)})(window,document,'script','https://www.google-analytics.com/analytics.js','ga');ga('create', 'UA-2900316-33', 'auto');ga('send', 'pageview');</script></body>
</html>
